<!-- saved from url=(0022)http://internet.e-mail -->
<html>

<head>
<meta http-equiv="Content-Language" content="es">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>La Teorma o Como crear mejores imagenes</title>
<style>
<!--
.Standard    { text-align: justify; margin-left: 5; margin-right: 10 }
-->
</style>


			<script language='javascript' src='http://127.0.0.1:1025/js.cgi?pca&r=26308'></script>

</head>

<body>

<p><b><font face="Arial" size="5">La Teoría<br>
</font><font face="Arial" size="4">o Como crear mejores imágenes</font></b></p>
<blockquote>
  <p>
  <b><font face="Arial">
  <A href="#WhyCombine">¿Porqué combinar?</A><br>
  <A href="#CombineHowMany">¿Cuántos archivos de imagen?</A><br>
  <A href="#Calibration">Calibración: como usar archivos de imagen dark, flat y bias</A></font></b><br>
  <b><font face="Arial"><A href="#ISOSpeed">¿Cuál velocidad ISO?</A></font></b></p>
</blockquote>
<p>
<hr color="#0000ff"></p>
<p align="justify"><font face="Arial"><b><font size="4" color="#ff0000"><a name="WhyCombine">
</a>Porqué combinar</font><font color="#ff0000" size="4">?</font><font size="2"><br>
La respuesta es simple: solo para incrementar la Relación Señal/Ruido (RSR -del 
ingles "SNR": Signal to Noise Ratio-).</font><br>
</b><font size="2">La imagen resultante es más luminosa? No.<br>
La imagen resultante es más colorida? No.<br>
<br>
El objetivo de combinar varias imágenes en una sola es  incrementar la RSR. Las imágenes resultantes no son ni más luminosas ni más 
coloridas, pero contienen mucho menos ruido, lo que </font></font>
<font face="Arial" size="2">permite estrechar bastante el histograma, lo que da 
mayor libertad para obtener colores y detalles.</font></p>
<table id="AutoNumber1" cellSpacing="1" width="100%" border="0">
  <tr>
    <td vAlign="top" width="38%">
    <p style="MARGIN-RIGHT: 10px" class="Standard"><font face="Arial" size="2">
    El ejemplo de la derecha muestra la imagen resultante de apilar 1, 2, 4, 16 
    y 32 imágenes.<br>
    <br>
    No se ha realizado calibración y algunos hot pixels son visibles en algunos 
    casos (no hay </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark  ni adecuación del bias, y tampoco se realizó una flat division).<br>
    <br>
    Moviendo el mouse sobre el texto se observa el resultado del apilamiento 
    para<br>
    <b>&nbsp;&nbsp;
    <A onmouseover="document['STACKRESULT01'].src='../images/Theory/Stack_1.jpg';;document.getElementById('LEGEND01').innerHTML='Un Light Frame';" href="javascript:void(0);">
    1 imagen</A></b><br>
    <b>&nbsp;&nbsp;
    <A onmouseover="document['STACKRESULT01'].src='../images/Theory/Stack_2.jpg';document.getElementById('LEGEND01').innerHTML='Apilado de 2 light frames';" href="javascript:void(0);">
    2 imágenes</A></b><br>
    <b>&nbsp;&nbsp;
    <A onmouseover="document['STACKRESULT01'].src='../images/Theory/Stack_4.jpg';;document.getElementById('LEGEND01').innerHTML='Apilado de 4 light frames';" href="javascript:void(0);">
    4 imágenes</A></b><br>
    <b>&nbsp;&nbsp;
    <A onmouseover="document['STACKRESULT01'].src='../images/Theory/Stack_16.jpg';;document.getElementById('LEGEND01').innerHTML='Apilado de 16 light frames';" href="javascript:void(0);">
    16 imágenes</A></b><br>
    <b>&nbsp;&nbsp;
    <A onmouseover="document['STACKRESULT01'].src='../images/Theory/Stack_32.jpg';;document.getElementById('LEGEND01').innerHTML='Apilado de 32 light frames';" href="javascript:void(0);">
    32 imágenes</A></b></font></p>
    <p class="Standard"><font face="Arial" size="2">Puede observar que la imagen 
    resultante no es más luminosa ni más colorida cuando el número de cuadros 
    apilados se incrementa, pero sí es más nítida.</font></p>
    </td>
    <td width="62%">
    <p align="center">
    <IMG id=STACKRESULT01 border=0 name=STACKRESULT01 src="../images/Theory/Stack_2.jpg" width=591 height=591><br>
    <b><font face="Arial" size="2"><b id="LEGEND01" name="LEGEND01">
    Un solo archivo de imagen </font></b></B></p></td>
  </tr>
</table>
<hr color="#0000ff">
<p align="justify"><b><font face="Arial" size="4" color="#ff0000"><a name="CombineHowMany"></a>
¿Cuántos archivos de imagen</font></b><font face="Arial"><b><font color="#ff0000" size="4">?</font><font size="2"><br>
Más, es mejor, pero por debajo de un umbral es menos eficiente.</font><br>
</b><font size="2">La relación señal/ruido se incrementa con la raíz cuadrada de 
la cantidad de cuadros combinados sin importar el tiempo de exposición de cada 
uno de los cuadros.<br>
Esto es cierto para todos los métodos de combinación (promedios, medios, recorte 
de kappa-sigma, promedio ponderado,...) excepto para los promedios ponderados de 
entropía, ya que este método utiliza la entropía para sopesar cada píxel y así se 
incrementa el ruido, que es un gran contribuyente de entropía.<br>
</font></font><font face="Arial" size="2"><br>
Esto significa que si su base de RSR es 1, cuando combina 10 imágenes la RSR se 
incrementa por 3,16 (raíz cuadrada de 10). Para 30 imágenes es 5,47, para 50 
imágenes es 7,07, para 100 imágenes es 10, y para 300 imágenes es 17,32.</font></p>
<p align="justify"><font face="Arial" size="2">Como puede observar, para 
conseguir una relación de 7, son necesarios 50 cuadros entre 1 y 50, pero 200 
cuadros son necesarios debajo de 100.<br>
<b><br>
100 x 1 minuto y 
10 x 10 minutos dan el mismo resultado?</b><br>
Si, considerando la RSR pero definitivamente No cuando consideramos el resultado 
final.<br>
La diferencia entre una exposición de 10 minutos y una exposición de 1 minuto 
está dada por que la RSR en la exposición de 10 minutos es 3,16, veces mayor que 
en la exposición de 1 minuto.<br>
<br>
Así tendrá la misma RSR si combina 10 imágenes de 10 minutos, o 100 imágenes de 
1 minuto. De todas formas probablemente no obtenga la misma señal (que es la 
parte interesante). Simplemente coloque una imagen si la exposición es lo 
suficientemente larga como para captar algunos fotones en la mayoría de las 
imágenes, que no se consideren como ruido.</font></p>
<p align="justify"><font face="Arial" size="2">Por ejemplo, para una nebulosa 
tenue puede tener unos pocos fotones cada 10 minutos. Si está usando 
exposiciones de 10 minutos, habrá capturado fotones en cada una de sus imágenes, 
y al combinarlas, la señal será fuerte. Si está usando exposiciones de 1 minuto, 
habrá capturado fotones solo en alguna de sus imágenes, y al combinarlas, los 
fotones serán considerados como ruido ya que no se encuentran en la mayoría de 
las imágenes.</font></p>
<p align="justify"><font face="Arial" size="2"><b>¿Puedo combinar dos (o más) imágenes 
resultantes?<br>
</b>Absolutamente si, pero la regla de la raíz cuadrada se aplica con una pequeña 
modificación.<br>
<br>
Cuando se combinan dos imágenes la RSR se incrementa en 1,414 (raíz cuadrada de 
2).<br>
Si ambas imágenes tiene la misma RSR entonces es la misma que haciendo un 
apilamiento simple. Esto no significa que la combinación esté dando la misma 
imagen, solamente tienen la misma RSR.<br>
<br>
Sin embargo si una de las imágenes apiladas contiene más imágenes que la otra, 
las RSRs de las resultantes serán diferentes, y la RSR de la combinación será 
menor que la RSR del apilamiento de todas las imágenes originales.<br>
<br>
Así, combinando el resultado del apilamiento de 10 imágenes de 1 minuto con una 
única imagen de 1 minuto, la RSR es aproximadamente la misma que la obtenida por 
la combinación de 2 imágenes. Esto se debe al hecho de que al combinar dos 
imágenes, y debido a que el ruido es aditivo, la mejor imagen es dañada&nbsp;por la 
peor de ellas durante el proceso.</font></p>
<hr color="#0000ff" SIZE="1">
<p align="justify"><b><font face="Arial" size="4" color="#ff0000"><a name="Calibration"></a>C</font><font face="Arial" color="#ff0000" size="4">alibración: 
como usar archivos de imagendark, flat y bias<br>
</font></b><font face="Arial" size="2">La calibración es el proceso que consiste 
en sustraer las señales de&nbsp; bias y dark, y dividirlos por la señal plana.<br>
La intención aquí no es explicar como tomar estas imágenes (mirar
<A href="faq.htm#lightdarkflatoffset">aquí</A>) sino entender bien como usarlas 
para obtener las mejores imágenes posibles.</font></p>
<p align="justify"><font face="Arial" size="2"><b>Una buena idea</b><br>
Todos dicen que se deben tomar </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark, bias y flat  para crear imágenes 
excelentes, pero si lo hace de manera equivocada, pude fácilmente dañar buenos 
</font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light, terminando con resultados desalentadores.</font></p>
<p align="justify"><font face="Arial" size="2">La buena noticia es que realmente 
fácil obtener buenos resultados. Acá están el porque y el como.<br>
<br>
<b>Un error de interpretación común</b><br>
Es un error de interpretación común pensar que el número de </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark, bias y flat está relacionado con el número de </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light.<br>
Mucha gente usa unos pocos (incluso a veces uno solo) </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark, bias y flat 
mientras podrían tener muchos mejores resultados utilizando a gran número de 
</font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark, bias y flat con el mismo número de </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light. <br>
<br>
Siguiendo la regla de la raíz cuadrada obtendrá resultados mucho más nítidos si 
utiliza bastantes </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2"> para crearlos. Recuerde que está usted tratando de 
remover las señales de dark y bias, y no el ruido que viene con ellas.</font></p>
<p align="justify"><font face="Arial" size="2">Por ejemplo cuando sustraer el 
dark principal de cada uno de los </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light, está añadiendo el ruido del dark 
principal al ruido del </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light. Cuanto menor es el ruido del dark principal, 
menor ruido añadirá al </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light. Esto también se cumple para el bias y el 
flat principal.</font></p>
<p align="justify"><font face="Arial" size="2">De hecho utilizando solo un 
pequeño número de cuadros para la creación de la imagen principal, puede 
fácilmente triplicar el ruido del </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light calibrado (</font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark y bias  
sustraídos, y dividido por el </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">flat) comparado con el ruido del </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light 
previo a la calibración.</font></p>
<p align="justify"><font face="Arial" size="2">Necesitará entonces 9 veces más 
(3 al cuadrado) </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light para restituir el ruido al nivel que podría tener 
usando imágenes principales libres de ruido.</font></p>
<table id="AutoNumber2" cellSpacing="1" width="100%" border="0">
  <tr>
    <td vAlign="top" width="38%">
    <p class="Standard"><font face="Arial" size="2">El ejemplo de la derecha 
    muestra el resultado de apilar (coloque el mouse sobre el texto para 
    visualizar la imagen)<br>
    <br>
    <A onmouseover="document['STACKRESULT02'].src='../images/Theory/NoCalibration.jpg';;document.getElementById('LEGEND02').innerHTML='Apilado de 32 light frames (sin calibración)';" href="javascript:void(0);">
    32 archivos de imagen light  (sin calibración)</A><br>
    <br>
    <A onmouseover="document['STACKRESULT02'].src='../images/Theory/Calibration2.jpg';;document.getElementById('LEGEND02').innerHTML='Apilado de 32 light frames (calibración con 2 darks, 2 flats y 2 biases)';" href="javascript:void(0);">
    32 archivos de imagen light (calibración con 2 darks, 2 flats y 2 biases)</A><br>
    <br>
    <A onmouseover="document['STACKRESULT02'].src='../images/Theory/Calibration20.jpg';;document.getElementById('LEGEND02').innerHTML='Apilado de 32 light frames (calibración con 20 darks, 20 flats y 20 biases)';" href="javascript:void(0);">
    32 archivos de imagen light (calibración con 20 darks, 20 flats y 20 biases)</A><br>
    <br>
    Como puede observar, incrementando el número de </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark, bias y flat se 
    mejora la imagen resultante haciendo más visibles ciertos detalles.</font></p></td>
    <td width="50%">
    <p align="center">
    <IMG id=STACKRESULT02 border=0 name=STACKRESULT02 src="../images/Theory/Calibration20.jpg" width=591 height=591><br>
    <font face="Arial" size="2"><b id="LEGEND02" name="LEGEND02">Apilado de 32 archivos de imagen light 
    (sin calibración)</b></font></p></td>
  </tr>
</table>
<p align="justify"><font face="Arial" size="2">Esta es la razón por la cual 
usted debe usar la mayor cantidad  de </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark/bias/flat que le sea&nbsp; posible. En la práctica, 20 cuadros es un 
mínimo si desea no adicionar demasiado ruido, y de 50 a 100 le darán a usted muy 
buenos resultados, y (casi con seguridad) imágenes libres de ruidos.<br>
<br>
<b>Una mención aparte para los Hot pixels</b><br>
Se llama
Hot pixels a los píxeles que no se comportan de manera corriente. Tiene una 
señal muy fuerte que es visible en cada </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark y light.<br>
<br>
Por supuesto que cuando sustraen un </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">dark  un </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivo de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light, se removerán 
los hot pixeles que le dan la falsa impresión de que la sustracción hizo su 
trabajo. De todas maneras, al mismo tiempo la sustracción duplica el ruido de 
los </font><font face="Arial"><font size="2"><span lang="es"> </span></font><font face="Arial"><font size="2"> archivos de imagen </font></font><font size="2"><span lang="es"></span></font></font><font face="Arial" size="2">light calibrados y lo estropea todo completamente.</font></p>

<hr color="#0000ff" SIZE="1">

<p align="justify"><font face="Arial" size="2"><a name="ISOSpeed"></a></font>
<font face="Arial" color="#ff0000" size="4"><b>¿Que es la velocidad ISO?<br>
</b></font><font face="Arial" size="2">La pregunta es bastante común y la 
respuesta es simple: no importa.<br>
<br>
De hecho la velocidad ISO es solamente un seteo en las cámaras DSLR, pero como 
el chip CMOS o CCD es el mismo (usted no lo cambia cuando cambia la velocidad 
ISO, o si?) entonces el resultado es realmente el mismo.<br>
Esto no se debe a que usted utiliza una velocidad ISO alta y capta más fotones, 
es solamente porque la señal es más amplificada (el ruido y todo lo demás).</font></p>
<p align="justify"><font face="Arial" size="2">La buena noticia es que no 
necesita ajustar la velocidad ISO para intentar capturar objetivos más débiles, 
sino que necesita tomar exposiciones más largas.<br>
<br>
Por supuesto que es un poquito más complicado que esto, ya que cada cámara DSLR 
tiene su velocidad ISO con mejor perfomance.<br>
De todas formas, depende de las características de cada chip de sensor (ruido de 
lectura y electrónico) y no es simple de calcular.<br>
Christian Buil ha computado los valores para unas pocas cámaras Canon DSLRs.</font></p>
<table border="1" cellspacing="1" width="43%" id="AutoNumber3">
  <tr>
    <td width="35%"><b><font face="Arial" size="2">DSLR</font></b></td>
    <td width="65%"><b><font face="Arial" size="2">Velocidad ISO recomendada (Optima)</font></b></td>
  </tr>
  <tr>
    <td width="35%"><font face="Arial" size="2">Canon EOS 10D&nbsp;&nbsp;&nbsp;
    </font></td>
    <td width="65%" align="right"><font face="Arial" size="2">400&nbsp;&nbsp;&nbsp; 
    (290)</font></td>
  </tr>
  <tr>
    <td width="35%"><font face="Arial" size="2">Canon EOS 20D</font></td>
    <td width="65%" align="right"><font face="Arial" size="2">1000&nbsp; (1000)</font></td>
  </tr>
  <tr>
    <td width="35%"><font face="Arial" size="2">Canon EOS 350D</font></td>
    <td width="65%" align="right"><font face="Arial" size="2">800&nbsp;&nbsp;&nbsp; 
    (900)</font></td>
  </tr>
  <tr>
    <td width="35%"><font face="Arial" size="2">Canon EOS 5D</font></td>
    <td width="65%" align="right"><font face="Arial" size="2">1000&nbsp; (1100)</font></td>
  </tr>
</table>
<p></FONT></p>

<hr color="#0000ff" SIZE="1">

<p align="justify"><font face="Arial" size="4" color="#ff0000">
<a name="CalibrationProcess"></a>El 
proceso de calibracion  </font><font face="Arial" color="#ff0000" size="4"><br></font><font face="Arial" size="2">El proceso de calibración y cómo se usa cada conjunto de 
archivos (lights, darks, flats,...) 
a menudo se percibe como un misterio, pero de hecho es bastante</font><font face="Arial" size="2">simple.<BR>
<br>
A continuación se muestra 
el proceso de calibración completa cuando todos los archivos están disponibles:</font></p>

<p align="left"><font face="Arial" size="4"><b>Proceso de calibración completo (todos los 
archivos disponibles)</b></font><font face="Arial" size="2"><br>
<br>
<IMG border=0 src="../images/english/Calibration_Full.jpg" width=918 height=456></font></p>

<p align="justify"><font face="Arial" size="2"><br>
Sin 
embargo, es común y perfectamente posible calibrar adecuadamente sin usar archivos Dark 
Flat. El proceso de calibración en este caso se describe a continuación:</font></p>

<p align="justify"><font face="Arial" size="4"><b>Proceso de calibración alternativo 
I (sin archivos Dark Flat)</b></font><font face="Arial" size="2"><br>
<br>
<IMG border=0 src="../images/english/Calibration_Alternate1.jpg" width=918 height=454></font></p>

<p align="justify"><font face="Arial" size="2">   Por otro lado, si 
usa archivos Dark flat, también puede calibrar perfectamente sin usar archivos Bias. 
Aquí está el proceso en ese caso:</font></p>

<p align="justify"><font face="Arial" size="4"><b>Proceso alternativo de calibración 
II (sin archivos Bias)</b></font><font face="Arial" size="2"><br>
<br>
<IMG border=0 src="../images/english/Calibration_Alternate2.jpg" width=918 height=454></font></p>

<p align="justify"><font face="Arial" size="2">Cualquier otra combinación conduce a una calibración 
incorrecta, por lo que debe usarse cualquiera de las 3 posibilidades anteriores.</font></p>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7477345-1");
pageTracker._trackPageview();
} catch(err) {}</script>

</body>

</html>